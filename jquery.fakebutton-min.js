/*
    Library by Daniel Cohen Gindi (danielgindi@gmail.com)
    MIT License!
*/
function h(d){function m(e,c){for(var b=0;b<e.length;b++)if(e[b].identifier===c)return e[b];return null}d.fn.fakebutton=function(e){!1!==e&&(!0===e&&(e=0),this.each(function(){-1===this.tabIndex&&(this.tabIndex=e)}));this.unfakebutton();this.on("keydown.fakebutton",function(c){var b=d(this);c.target!==this||13!==c.which&&32!==c.which||(c.preventDefault(),b.addClass("active").on("keyup.fakebutton",function(f){f.target!==this||13!==f.which&&32!==f.which||(f.preventDefault(),b.removeClass("active").off("keyup.fakebutton").click())}))}).on("touchstart.fakebutton",
function(c){function b(a){g.removeClass("active").off("touchmove.fakebutton").off("touchend.fakebutton").off("touchcancel.fakebutton");"touchcancel"===a.type&&g.off("mousedown.fakebutton");n.off("scroll.fakebutton",f)}function f(){p=!0}var g=d(this),p=!1,q=c.originalEvent.changedTouches[0].identifier,k=!0,n=g.parents().add(window);n.on("scroll.fakebutton",f);g.addClass("active").on("touchmove.fakebutton",function(a){if(a=m(a.originalEvent.changedTouches,q))k=(a=document.elementFromPoint(a.pageX,a.pageY))&&
(this===a||d.contains(this,a)),g.toggleClass("active",!!k)}).on("touchend.fakebutton",function(a){var r=m(a.originalEvent.changedTouches,q);if(r&&(b(a),k&&!p&&!a.isDefaultPrevented()&&document.contains(this))){var l=d.Event("click");d.each("target clientX clientY offsetX offsetY screenX screenY pageX pageY".split(" "),function(){l[this]=c[this];l[this]=r[this]});a.preventDefault();setTimeout(function(){g.trigger(l)},0)}}).on("touchcancel.fakebutton",b).on("mousedown.fakebutton",function(a){500>=+new Date&&
(a.preventDefault(),a.stopPropagation());g.off("mousedown.fakebutton")})});return this};d.fn.unfakebutton=function(){d(this).off(".fakebutton");return this}}"function"===typeof define&&define.a?define("jquery.fakebutton",["jquery"],h):"object"===typeof exports?module.b=h(require("jquery")):h(this.jQuery);
